---
title: 栈与字符型变量的地址
date: 2016-04-20 09:15:59
category: C++基础
tags: [栈的存储,字符型变量输出]

---

## 栈的存储机制

在之前的内存存储区之中讲过栈，他大概有以下特点：编译器自助管理；空间大小指定；不会产生碎片；向下生长；静态(主要)或动态(不需要人工释放)分配；效率高。这里以下边的语句为例说明栈的存储：
```
int main()
{
	int a[4] = {1,2,3,4};
	int b[4] = {5,6,7,8};
	int c[4] = {9,10,11,12};
}
```
![栈](http://i.imgur.com/r0E1t24.jpg)
1. 数组名称是一个指针，指向数组的第一个元素；
2. a[-2]指的是a指针向栈的地址低位移动2个数据元素大小(例子中是int型)，即访问到b[2]，**但是**实际情况与编译器相关，他会做一些对准或者优化，明白访问原理即可；
3. 每一个元素在栈中的字节序是Little Endian，即低位字节排放在地址的低地址端，高位字节排放在地址的高地址端。与之对应的还有Big Endian，排放次序相反。

---

## 字符型变量的地址

字符型变量`char c`的地址不能用`cout<<&c；`来表示，因为`&c`实际上是一个`char *`型的变量，它输出字符串的值，而字符串只有在内存中读到`\0`才会终止，因此会出现乱码。所以要输出字符变量的地址，应该用以下语句告诉编译器如何解释：
1. `(int *)&c`;
2. `(static_cast<void *>(&jc)`。

上述的`static_cast`用于显式类型转换。